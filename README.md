# ç™½è™é¢æ¿ (Baihu Panel)

<p align="center">
  <strong>è½»é‡çº§å®šæ—¶ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ</strong>
</p>

<p align="center">
  åŸºäº Go + Vue 3 æ„å»ºï¼Œå•æ–‡ä»¶éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨
</p>

<p align="center">
  <a href="#åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</a> â€¢
  <a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#é…ç½®è¯´æ˜">é…ç½®è¯´æ˜</a> â€¢
  <a href="#å¼€å‘æŒ‡å—">å¼€å‘æŒ‡å—</a>
</p>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“‹ å®šæ—¶ä»»åŠ¡ç®¡ç†
- æ”¯æŒæ ‡å‡† Cron è¡¨è¾¾å¼è°ƒåº¦
- å¸¸ç”¨æ—¶é—´è§„åˆ™å¿«æ·é€‰æ‹©
- ä»»åŠ¡å¯ç”¨/ç¦ç”¨çŠ¶æ€åˆ‡æ¢
- æ‰‹åŠ¨è§¦å‘æ‰§è¡Œ
- ä»»åŠ¡è¶…æ—¶æ§åˆ¶

### ğŸ“ è„šæœ¬æ–‡ä»¶ç®¡ç†
- åœ¨çº¿ä»£ç ç¼–è¾‘å™¨
- æ–‡ä»¶æ ‘å½¢ç»“æ„å±•ç¤º
- æ”¯æŒåˆ›å»ºã€é‡å‘½åã€åˆ é™¤æ–‡ä»¶/æ–‡ä»¶å¤¹
- æ”¯æŒå‹ç¼©åŒ…ä¸Šä¼ è§£å‹
- æ”¯æŒå¤šæ–‡ä»¶æ‰¹é‡ä¸Šä¼ 

### ğŸ–¥ï¸ åœ¨çº¿ç»ˆç«¯
- WebSocket å®æ—¶ç»ˆç«¯
- æ”¯æŒå¸¸ç”¨ Shell å‘½ä»¤
- å‘½ä»¤æ‰§è¡Œç»“æœå®æ—¶è¾“å‡º

### ğŸ“Š æ‰§è¡Œæ—¥å¿—
- ä»»åŠ¡æ‰§è¡Œå†å²è®°å½•
- æ‰§è¡ŒçŠ¶æ€è¿½è¸ªï¼ˆæˆåŠŸ/å¤±è´¥/è¶…æ—¶ï¼‰
- æ‰§è¡Œè€—æ—¶ç»Ÿè®¡
- æ—¥å¿—å†…å®¹å‹ç¼©å­˜å‚¨
- æ”¯æŒæŒ‰ä»»åŠ¡åç§°æœç´¢
- æ—¥å¿—è‡ªåŠ¨æ¸…ç†

### ğŸ” ç¯å¢ƒå˜é‡
- å®‰å…¨å­˜å‚¨æ•æ„Ÿé…ç½®
- å˜é‡å€¼è„±æ•æ˜¾ç¤º
- ä»»åŠ¡æ‰§è¡Œæ—¶è‡ªåŠ¨æ³¨å…¥

### âš™ï¸ ç³»ç»Ÿè®¾ç½®
- ç«™ç‚¹æ ‡é¢˜ã€æ ‡è¯­è‡ªå®šä¹‰
- ç«™ç‚¹å›¾æ ‡è‡ªå®šä¹‰ï¼ˆSVGï¼‰
- åˆ†é¡µå¤§å°é…ç½®
- Cookie æœ‰æ•ˆæœŸé…ç½®
- å¯†ç ä¿®æ”¹
- ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹

### ğŸ¨ ç•Œé¢ç‰¹æ€§
- å“åº”å¼è®¾è®¡
- æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
- ç°ä»£åŒ– UI ç»„ä»¶

### ğŸ”’ å®‰å…¨ç‰¹æ€§
- JWT Token è®¤è¯
- å¯†ç åŠ ç›å“ˆå¸Œå­˜å‚¨
- å¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆéšæœºå¯†é’¥
- Cookie HttpOnly ä¿æŠ¤

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰

**ä½¿ç”¨é¢„æ„å»ºé•œåƒï¼š**

```bash
docker run -d \
  --name baihu \
  -p 8052:8052 \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/configs:/app/configs \
  -e TZ=Asia/Shanghai \
  --restart unless-stopped \
  ghcr.io/engigu/baihu:main
```

**ä½¿ç”¨ Docker Composeï¼š**

åˆ›å»º `docker-compose.yml`ï¼š

```yaml
version: '3.8'

services:
  baihu:
    image: ghcr.io/engigu/baihu:main
    container_name: baihu
    ports:
      - "8052:8052"
    volumes:
      - ./data:/app/data
      - ./configs:/app/configs
    environment:
      - TZ=Asia/Shanghai
    restart: unless-stopped
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
docker-compose up -d
```

### æ–¹å¼äºŒï¼šæœ¬åœ°æ„å»ºè¿è¡Œ

**ç¯å¢ƒè¦æ±‚ï¼š**
- Go 1.21+
- Node.js 18+
- Make

**æ„å»ºæ­¥éª¤ï¼š**

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/engigu/baihu.git
cd baihu

# å®‰è£…ä¾èµ–
make deps
cd web && npm install && cd ..

# æ„å»ºå‰ç«¯ + åç«¯
make build-all

# è¿è¡Œ
./baihu
```

### è®¿é—®é¢æ¿

å¯åŠ¨åè®¿é—®ï¼šhttp://localhost:8052

**é»˜è®¤è´¦å·ï¼š**
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`123456`

> âš ï¸ **å®‰å…¨æç¤º**ï¼šé¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç 

---

## ğŸ“ ç›®å½•ç»“æ„

```
./
â”œâ”€â”€ baihu                 # å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ data/                 # æ•°æ®ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ ql.db             # SQLite æ•°æ®åº“
â”‚   â””â”€â”€ scripts/          # è„šæœ¬æ–‡ä»¶å­˜å‚¨
â””â”€â”€ configs/
    â””â”€â”€ config.json       # é…ç½®æ–‡ä»¶ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
```

---

## âš™ï¸ é…ç½®è¯´æ˜

é…ç½®æ–‡ä»¶è·¯å¾„ï¼š`configs/config.json`

```json
{
  "server": {
    "port": 8052,
    "host": "0.0.0.0"
  },
  "database": {
    "type": "sqlite",
    "path": "./data/ql.db",
    "table_prefix": "baihu_"
  },
  "task": {
    "default_timeout": 3600,
    "log_retention_days": 30
  }
}
```

### é…ç½®é¡¹è¯´æ˜

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `server.port` | æœåŠ¡ç«¯å£ | 8052 |
| `server.host` | ç›‘å¬åœ°å€ | 0.0.0.0 |
| `database.type` | æ•°æ®åº“ç±»å‹ | sqlite |
| `database.path` | æ•°æ®åº“è·¯å¾„ | ./data/ql.db |
| `database.table_prefix` | è¡¨å‰ç¼€ | baihu_ |
| `task.default_timeout` | ä»»åŠ¡é»˜è®¤è¶…æ—¶ï¼ˆç§’ï¼‰ | 3600 |
| `task.log_retention_days` | æ—¥å¿—ä¿ç•™å¤©æ•° | 30 |

### ç«™ç‚¹è®¾ç½®

ä»¥ä¸‹è®¾ç½®å¯åœ¨ç®¡ç†é¢æ¿ã€Œç³»ç»Ÿè®¾ç½® > ç«™ç‚¹è®¾ç½®ã€ä¸­é…ç½®ï¼š

| è®¾ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| ç«™ç‚¹æ ‡é¢˜ | æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡ç­¾å’Œä¾§è¾¹æ  | ç™½è™é¢æ¿ |
| ç«™ç‚¹æ ‡è¯­ | æ˜¾ç¤ºåœ¨ç™»å½•é¡µ | è½»é‡çº§å®šæ—¶ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ |
| ç«™ç‚¹å›¾æ ‡ | SVG æ ¼å¼ï¼Œç”¨äº favicon å’Œç™»å½•é¡µ | å†…ç½®å›¾æ ‡ |
| åˆ†é¡µå¤§å° | åˆ—è¡¨æ¯é¡µæ˜¾ç¤ºæ¡æ•° | 10 |
| Cookie æœ‰æ•ˆæœŸ | ç™»å½•çŠ¶æ€ä¿æŒå¤©æ•° | 7 |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **Go 1.21+** - ç¼–ç¨‹è¯­è¨€
- **Gin** - Web æ¡†æ¶
- **GORM** - ORM æ¡†æ¶
- **SQLite** - åµŒå…¥å¼æ•°æ®åº“
- **JWT** - èº«ä»½è®¤è¯
- **Cron** - å®šæ—¶ä»»åŠ¡è°ƒåº¦
- **WebSocket** - å®æ—¶é€šä¿¡

### å‰ç«¯
- **Vue 3** - å‰ç«¯æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **Shadcn/ui** - UI ç»„ä»¶åº“
- **Xterm.js** - ç»ˆç«¯æ¨¡æ‹Ÿå™¨

### éƒ¨ç½²
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²
- **GitHub Actions** - CI/CD
- **Multi-arch** - æ”¯æŒ amd64/arm64

---

## ğŸ“– å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ main.go                    # å…¥å£æ–‡ä»¶
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ bootstrap/             # åº”ç”¨å¯åŠ¨
â”‚   â”œâ”€â”€ constant/              # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ controllers/           # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ database/              # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”œâ”€â”€ middleware/            # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ models/                # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ router/                # è·¯ç”±æ³¨å†Œ
â”‚   â”œâ”€â”€ services/              # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ static/                # é™æ€æ–‡ä»¶åµŒå…¥
â”‚   â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ web/                       # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/               # API æ¥å£
â”‚   â”‚   â”œâ”€â”€ components/        # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ composables/       # ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ layouts/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ views/             # é¡µé¢è§†å›¾
â”‚   â””â”€â”€ ...
â”œâ”€â”€ configs/                   # é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/                      # æ•°æ®ç›®å½•
â”œâ”€â”€ Dockerfile                 # Docker æ„å»º
â”œâ”€â”€ Makefile                   # æ„å»ºè„šæœ¬
â””â”€â”€ README.md
```

### å¼€å‘å‘½ä»¤

```bash
# å®‰è£… Go ä¾èµ–
make deps

# å®‰è£…å‰ç«¯ä¾èµ–
cd web && npm install

# å‰ç«¯å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
cd web && npm run dev

# æ„å»ºå‰ç«¯
make build-web

# æ„å»ºåç«¯
make build

# æ„å»ºå…¨éƒ¨ï¼ˆå‰ç«¯ + åç«¯ï¼‰
make build-all

# æ¸…ç†æ„å»ºäº§ç‰©
make clean

# Docker æ„å»º
make docker-build

# Docker Compose å¯åŠ¨
make docker-up

# Docker Compose åœæ­¢
make docker-down
```

### API æ¥å£

#### è®¤è¯ç›¸å…³
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/auth/login` | ç”¨æˆ·ç™»å½• |
| POST | `/api/auth/logout` | ç”¨æˆ·ç™»å‡º |
| GET | `/api/auth/me` | è·å–å½“å‰ç”¨æˆ· |

#### ä»»åŠ¡ç®¡ç†
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/tasks` | è·å–ä»»åŠ¡åˆ—è¡¨ |
| POST | `/api/tasks` | åˆ›å»ºä»»åŠ¡ |
| GET | `/api/tasks/:id` | è·å–ä»»åŠ¡è¯¦æƒ… |
| PUT | `/api/tasks/:id` | æ›´æ–°ä»»åŠ¡ |
| DELETE | `/api/tasks/:id` | åˆ é™¤ä»»åŠ¡ |
| POST | `/api/execute/task/:id` | æ‰§è¡Œä»»åŠ¡ |

#### ç¯å¢ƒå˜é‡
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/env` | è·å–å˜é‡åˆ—è¡¨ |
| POST | `/api/env` | åˆ›å»ºå˜é‡ |
| PUT | `/api/env/:id` | æ›´æ–°å˜é‡ |
| DELETE | `/api/env/:id` | åˆ é™¤å˜é‡ |

#### è„šæœ¬æ–‡ä»¶
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/files/tree` | è·å–æ–‡ä»¶æ ‘ |
| GET | `/api/files/content` | è·å–æ–‡ä»¶å†…å®¹ |
| POST | `/api/files/content` | ä¿å­˜æ–‡ä»¶å†…å®¹ |
| POST | `/api/files/create` | åˆ›å»ºæ–‡ä»¶/æ–‡ä»¶å¤¹ |
| POST | `/api/files/delete` | åˆ é™¤æ–‡ä»¶/æ–‡ä»¶å¤¹ |
| POST | `/api/files/upload` | ä¸Šä¼ å‹ç¼©åŒ… |

#### æ‰§è¡Œæ—¥å¿—
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/logs` | è·å–æ—¥å¿—åˆ—è¡¨ |
| GET | `/api/logs/:id` | è·å–æ—¥å¿—è¯¦æƒ… |

#### ç³»ç»Ÿè®¾ç½®
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/settings/site` | è·å–ç«™ç‚¹è®¾ç½® |
| PUT | `/api/settings/site` | æ›´æ–°ç«™ç‚¹è®¾ç½® |
| POST | `/api/settings/password` | ä¿®æ”¹å¯†ç  |
| GET | `/api/settings/about` | è·å–ç³»ç»Ÿä¿¡æ¯ |

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“„ License

[MIT License](LICENSE)
